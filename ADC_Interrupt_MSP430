#include<msp430.h>
unsigned int adc_value = 0;
float voltage;
int main(void)
{
  WDTCTL = WDTPW + WDTHOLD;
  
  ADC10AE0 = 0x01;
  ADC10CTL1 |= (0b0000 << 12); //ADC input channel A2, single channel
  ADC10CTL0 |= (0b000 << 13); //Reference voltage V+=Vcc, V-=GND
  ADC10CTL0 |= (0b11 << 11); //Sample and hold 64 clk pulses
  ADC10CTL0 |= (1 << 4); //ADC ON
  ADC10CTL0 |= (1 << 3); //ADC Interrupt enable

  _bis_SR_register(GIE);

  while(1)
  {
    ADC10CTL0 |= (0b11 << 0);
    
  }
}

#pragma vector = ADC10_VECTOR
__interrupt void ADC10_ISR()
{
  adc_value = ADC10MEM;
  voltage = adc_value*3.3/1023;
}
